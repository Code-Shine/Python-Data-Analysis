# 此代码是《Python数据分析与挖掘实战》的实战部分的第十章的完整代码

《家用电器用户行为分析与事件识别》

在作者给出的基础代码上添加的内容如下：
1）【】在数据规约部分：
书中提到：规约掉热水器"开关机状态"=="关"且”水流量”==0的数据，说明热水器不处于工作状态，数据记录可以规约掉。但由后文知，此条件不能进行规约
 因为，"开关机状态"=="关"且”水流量”==0可能是一次用水中的停顿部分，删掉后则无法准确计算关于停顿的数据 
2）【】在一次完整用水事件的划分模型中：
将时间间隔列数据离散并面元，探索了不同时间间隔中，用水事件的个数；
画用水停顿时间间隔频率分布直方图；
确定一次用水事件停顿阈值，然后划分一次完整用水事件。
3）【】用水事件阈值寻优模型：
通过频率分布直方图-确定阈值的变化与划分得到的事件个数关系
通过图像中斜率指标-确定阈值的变化与划分得到的事件个数关系
4）【】属性构造中：
原书中只给出了需要构造的属性的定义，并未给出具体代码，本文给出了具体的代码；并给出了两种方法求用水事件的时间间隔
5）【】模型构造：
添加了显示混淆矩阵可视化预测结果，查看训练结果正确率
